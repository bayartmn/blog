{"ast":null,"code":"import { getPaginatedPosts } from \"lib/api\";\nexport default (async (req, res) => {\n  if (process.env.SANITY_PREVIEW_SECRET !== req.query.secret) return res.status(401).json({\n    message: \"Invalid password \" + req.query.secret\n  });\n  res.setPreviewData({\n    data: req.query.secret\n  });\n  res.writeHead(307, {\n    Location: encodeURI(`/${req.query.slug}`)\n  });\n  res.end();\n});","map":{"version":3,"sources":["D:/projects/blog/pages/api/preview.js"],"names":["getPaginatedPosts","req","res","process","env","SANITY_PREVIEW_SECRET","query","secret","status","json","message","setPreviewData","data","writeHead","Location","encodeURI","slug","end"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,SAAlC;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAIC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsCJ,GAAG,CAACK,KAAJ,CAAUC,MAApD,EACE,OAAOL,GAAG,CACPM,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAEC,IAAAA,OAAO,EAAE,sBAAsBT,GAAG,CAACK,KAAJ,CAAUC;AAA3C,GAFD,CAAP;AAIFL,EAAAA,GAAG,CAACS,cAAJ,CAAmB;AAAEC,IAAAA,IAAI,EAAEX,GAAG,CAACK,KAAJ,CAAUC;AAAlB,GAAnB;AACAL,EAAAA,GAAG,CAACW,SAAJ,CAAc,GAAd,EAAmB;AAAEC,IAAAA,QAAQ,EAAEC,SAAS,CAAE,IAAGd,GAAG,CAACK,KAAJ,CAAUU,IAAK,EAApB;AAArB,GAAnB;AACAd,EAAAA,GAAG,CAACe,GAAJ;AACD,CATD","sourcesContent":["import { getPaginatedPosts } from \"lib/api\";\r\n\r\nexport default async (req, res) => {\r\n  if (process.env.SANITY_PREVIEW_SECRET !== req.query.secret)\r\n    return res\r\n      .status(401)\r\n      .json({ message: \"Invalid password \" + req.query.secret });\r\n\r\n  res.setPreviewData({ data: req.query.secret });\r\n  res.writeHead(307, { Location: encodeURI(`/${req.query.slug}`) });\r\n  res.end();\r\n};\r\n"]},"metadata":{},"sourceType":"module"}