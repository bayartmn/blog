{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\projects\\\\blog\\\\pages\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { Row, Col, Button } from \"react-bootstrap\";\nimport GridItem from \"components/grid-item\";\nimport Layout from \"components/layout\";\nimport Intro from \"components/intro\";\nimport { usePosts } from \"hooks/use-posts\";\nimport { useSWRInfinite } from \"swr\";\nvar PAGE_LIMIT = 3;\nexport var __N_SSG = true;\nexport default function Home(_ref) {\n  _s();\n\n  var _this = this;\n\n  var posts = _ref.posts;\n\n  //  const { data, isLoading, error } = usePosts(posts);\n  var _useSWRInfinite = useSWRInfinite(function (index) {\n    return \"api/posts?page=\".concat(index, \"&limit=\").concat(PAGE_LIMIT);\n  }),\n      data = _useSWRInfinite.data,\n      size = _useSWRInfinite.size,\n      setSize = _useSWRInfinite.setSize;\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: \"12\",\n        children: /*#__PURE__*/_jsxDEV(Intro, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-5\",\n      children: data && data.map(function (page) {\n        return page.map(function (post) {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            md: 12 / PAGE_LIMIT,\n            children: /*#__PURE__*/_jsxDEV(GridItem, {\n              post: post\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 15\n          }, _this);\n        });\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: data && data[data.length - 1].length !== 0 && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: function onClick() {\n          return setSize(size + 1);\n        },\n        children: \"\\u0426\\u0430\\u0430\\u0448 \\u043D\\u044C ...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"Sj/a2QMUybZ5wdqYFSHqtuY9EC0=\", false, function () {\n  return [useSWRInfinite];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/projects/blog/pages/index.js"],"names":["Row","Col","Button","GridItem","Layout","Intro","usePosts","useSWRInfinite","PAGE_LIMIT","Home","posts","index","data","size","setSize","map","page","post","textAlign","length"],"mappings":";;;;;AAAA,SAASA,GAAT,EAAcC,GAAd,EAAmBC,MAAnB,QAAiC,iBAAjC;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,cAAT,QAA+B,KAA/B;AAEA,IAAMC,UAAU,GAAG,CAAnB;;AAEA,eAAe,SAASC,IAAT,OAAyB;AAAA;;AAAA;;AAAA,MAATC,KAAS,QAATA,KAAS;;AACtC;AADsC,wBAENH,cAAc,CAC5C,UAACI,KAAD;AAAA,oCAA6BA,KAA7B,oBAA4CH,UAA5C;AAAA,GAD4C,CAFR;AAAA,MAE9BI,IAF8B,mBAE9BA,IAF8B;AAAA,MAExBC,IAFwB,mBAExBA,IAFwB;AAAA,MAElBC,OAFkB,mBAElBA,OAFkB;;AAMtC,sBACE,QAAC,MAAD;AAAA,4BACE,QAAC,GAAD;AAAA,6BACE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAC,IAAR;AAAA,+BACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAOE;AAAA;AAAA;AAAA;AAAA,YAPF,eAWE,QAAC,GAAD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,gBACGF,IAAI,IACHA,IAAI,CAACG,GAAL,CAAS,UAACC,IAAD;AAAA,eACPA,IAAI,CAACD,GAAL,CAAS,UAACE,IAAD;AAAA,8BACP,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE,KAAKT,UAAd;AAAA,mCACE,QAAC,QAAD;AAAU,cAAA,IAAI,EAAES;AAAhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBADO;AAAA,SAAT,CADO;AAAA,OAAT;AAFJ;AAAA;AAAA;AAAA;AAAA,YAXF,eAsBE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAA,gBACGN,IAAI,IAAIA,IAAI,CAACA,IAAI,CAACO,MAAL,GAAc,CAAf,CAAJ,CAAsBA,MAAtB,KAAiC,CAAzC,iBACC,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAML,OAAO,CAACD,IAAI,GAAG,CAAR,CAAb;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,YAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8BD;;GApCuBJ,I;UAEUF,c;;;KAFVE,I","sourcesContent":["import { Row, Col, Button } from \"react-bootstrap\";\r\nimport GridItem from \"components/grid-item\";\r\nimport { getPaginetedPosts } from \"lib/api\";\r\nimport Layout from \"components/layout\";\r\nimport Intro from \"components/intro\";\r\nimport { usePosts } from \"hooks/use-posts\";\r\nimport { useSWRInfinite } from \"swr\";\r\n\r\nconst PAGE_LIMIT = 3;\r\n\r\nexport default function Home({ posts }) {\r\n  //  const { data, isLoading, error } = usePosts(posts);\r\n  const { data, size, setSize } = useSWRInfinite(\r\n    (index) => `api/posts?page=${index}&limit=${PAGE_LIMIT}`\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <Row>\r\n        <Col md=\"12\">\r\n          <Intro />\r\n        </Col>\r\n      </Row>\r\n\r\n      <hr />\r\n\r\n      {/* <pre>{JSON.stringify(data, null, 2)}</pre> */}\r\n\r\n      <Row className=\"mb-5\">\r\n        {data &&\r\n          data.map((page) =>\r\n            page.map((post) => (\r\n              <Col md={12 / PAGE_LIMIT}>\r\n                <GridItem post={post} />\r\n              </Col>\r\n            ))\r\n          )}\r\n      </Row>\r\n\r\n      <div style={{ textAlign: \"center\" }}>\r\n        {data && data[data.length - 1].length !== 0 && (\r\n          <Button onClick={() => setSize(size + 1)}>Цааш нь ...</Button>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport const getStaticProps = async () => {\r\n  const posts = await getPaginetedPosts(1, PAGE_LIMIT);\r\n\r\n  return {\r\n    props: {\r\n      posts,\r\n    },\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}