{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Row, Col } from \"react-bootstrap\";\nimport Layout from \"components/layout\";\nimport { getPostBySlug, getPaginetedPosts } from \"lib/api\";\nimport BlockContent from \"@sanity/block-content-to-react\";\nimport HiglightCode from \"components/higlight-code\";\nimport { urlFor } from \"lib/api\";\nimport PostHeader from \"components/post-header\";\nimport { useRouter } from \"next/router\";\nimport PreviewAlert from \"components/preview-alert\";\nexport default (({\n  post,\n  preview\n}) => {\n  const router = useRouter();\n  if (router.isFallback) return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(\"div\", {\n      children: \"\\u0422\\u04AF\\u0440 \\u0445\\u04AF\\u043B\\u044D\\u044D\\u043D\\u044D \\u04AF\\u04AF ...\"\n    })\n  });\n  if (!router.isFallback && !(post !== null && post !== void 0 && post.slug)) return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(\"div\", {\n      children: \"\\u0423\\u0443\\u0447\\u043B\\u0430\\u0430\\u0440\\u0430\\u0439 \\u0438\\u0439\\u043C \\u043F\\u043E\\u0441\\u0442 \\u0431\\u0430\\u0439\\u0445\\u0433\\u04AF\\u0439 \\u0431\\u0430\\u0439\\u043D\\u0430...\"\n    })\n  });\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(Row, {\n      children: /*#__PURE__*/_jsxs(Col, {\n        md: \"12\",\n        children: [preview && /*#__PURE__*/_jsx(PreviewAlert, {}), /*#__PURE__*/_jsx(\"pre\", {}), /*#__PURE__*/_jsx(PostHeader, {\n          post: post\n        }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(BlockContent, {\n          blocks: post.content,\n          serializers: serializers,\n          imageOptions: {\n            w: 320,\n            h: 240,\n            fit: \"max\"\n          }\n        })]\n      })\n    })\n  });\n});\nconst serializers = {\n  types: {\n    code: props => /*#__PURE__*/_jsxs(HiglightCode, {\n      language: props.node.language,\n      children: [props.node.code, /*#__PURE__*/_jsx(\"div\", {\n        className: \"code-filename\",\n        children: props.node.filename\n      })]\n    }),\n    image: props => /*#__PURE__*/_jsxs(\"div\", {\n      className: `blog-image blog-image-${props.node.position}`,\n      children: [/*#__PURE__*/_jsx(\"img\", {\n        src: urlFor(props.node).height(600).url()\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"code-filename\",\n        style: {\n          textAlign: \"center\"\n        },\n        children: props.node.alt\n      })]\n    })\n  }\n};\nexport const getStaticProps = async ({\n  params,\n  preview = false,\n  previewData\n}) => {\n  const post = await getPostBySlug(params.slug, preview);\n  console.log(\"------------\", post);\n  return {\n    props: {\n      post: post.length > 1 ? post[1] : post.length > 0 ? post[0] : {},\n      preview\n    },\n    revalidate: 6000\n  };\n};\nexport const getStaticPaths = async () => {\n  const posts = await getPaginetedPosts(0, 4);\n  return {\n    paths: posts.map(post => ({\n      params: {\n        slug: post.slug\n      }\n    })),\n    fallback: true\n  };\n};","map":null,"metadata":{},"sourceType":"module"}