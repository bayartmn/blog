{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\projects\\\\blog\\\\pages\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { Row, Col, Button } from \"react-bootstrap\";\nimport GridItem from \"components/grid-item\";\nimport Layout from \"components/layout\";\nimport Intro from \"components/intro\";\nimport { useSWRInfinite } from \"swr\";\nimport PreviewAlert from \"components/preview-alert\";\nvar PAGE_LIMIT = 3;\nexport var __N_SSG = true;\nexport default function Home(_ref) {\n  _s();\n\n  var _this = this;\n\n  var posts = _ref.posts,\n      preview = _ref.preview;\n\n  //  const { data, isLoading, error } = usePosts(posts);\n  var _useSWRInfinite = useSWRInfinite(function (index) {\n    return \"api/posts?page=\".concat(index, \"&limit=\").concat(PAGE_LIMIT);\n  }, {\n    initialData: [posts]\n  }),\n      data = _useSWRInfinite.data,\n      size = _useSWRInfinite.size,\n      setSize = _useSWRInfinite.setSize;\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [preview && /*#__PURE__*/_jsxDEV(PreviewAlert, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: \"12\",\n        children: /*#__PURE__*/_jsxDEV(Intro, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-5\",\n      children: data.map(function (page) {\n        return page.map(function (post) {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            md: 12 / PAGE_LIMIT,\n            children: /*#__PURE__*/_jsxDEV(GridItem, {\n              post: post\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 13\n          }, _this);\n        });\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: data[data.length - 1].length !== 0 && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: function onClick() {\n          return setSize(size + 1);\n        },\n        children: \"\\u0426\\u0430\\u0430\\u0448 \\u043D\\u044C ...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"Sj/a2QMUybZ5wdqYFSHqtuY9EC0=\", false, function () {\n  return [useSWRInfinite];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/projects/blog/pages/index.js"],"names":["Row","Col","Button","GridItem","Layout","Intro","useSWRInfinite","PreviewAlert","PAGE_LIMIT","Home","posts","preview","index","initialData","data","size","setSize","map","page","post","textAlign","length"],"mappings":";;;;;AAAA,SAASA,GAAT,EAAcC,GAAd,EAAmBC,MAAnB,QAAiC,iBAAjC;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,SAASC,cAAT,QAA+B,KAA/B;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AAEA,IAAMC,UAAU,GAAG,CAAnB;;AAEA,eAAe,SAASC,IAAT,OAAkC;AAAA;;AAAA;;AAAA,MAAlBC,KAAkB,QAAlBA,KAAkB;AAAA,MAAXC,OAAW,QAAXA,OAAW;;AAC/C;AAD+C,wBAEfL,cAAc,CAC5C,UAACM,KAAD;AAAA,oCAA6BA,KAA7B,oBAA4CJ,UAA5C;AAAA,GAD4C,EAE5C;AAAEK,IAAAA,WAAW,EAAE,CAACH,KAAD;AAAf,GAF4C,CAFC;AAAA,MAEvCI,IAFuC,mBAEvCA,IAFuC;AAAA,MAEjCC,IAFiC,mBAEjCA,IAFiC;AAAA,MAE3BC,OAF2B,mBAE3BA,OAF2B;;AAO/C,sBACE,QAAC,MAAD;AAAA,4BACE,QAAC,GAAD;AAAA,iBACGL,OAAO,iBAAI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,cADd,eAEE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAC,IAAR;AAAA,+BACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAQE;AAAA;AAAA;AAAA;AAAA,YARF,eAYE,QAAC,GAAD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,gBACGG,IAAI,CAACG,GAAL,CAAS,UAACC,IAAD;AAAA,eACRA,IAAI,CAACD,GAAL,CAAS,UAACE,IAAD;AAAA,8BACP,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE,KAAKX,UAAd;AAAA,mCACE,QAAC,QAAD;AAAU,cAAA,IAAI,EAAEW;AAAhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBADO;AAAA,SAAT,CADQ;AAAA,OAAT;AADH;AAAA;AAAA;AAAA;AAAA,YAZF,eAsBE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAA,gBACGN,IAAI,CAACA,IAAI,CAACO,MAAL,GAAc,CAAf,CAAJ,CAAsBA,MAAtB,KAAiC,CAAjC,iBACC,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAML,OAAO,CAACD,IAAI,GAAG,CAAR,CAAb;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,YAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8BD;;GArCuBN,I;UAEUH,c;;;KAFVG,I","sourcesContent":["import { Row, Col, Button } from \"react-bootstrap\";\r\nimport GridItem from \"components/grid-item\";\r\nimport { getPaginetedPosts } from \"lib/api\";\r\nimport Layout from \"components/layout\";\r\nimport Intro from \"components/intro\";\r\nimport { useSWRInfinite } from \"swr\";\r\nimport PreviewAlert from \"components/preview-alert\";\r\n\r\nconst PAGE_LIMIT = 3;\r\n\r\nexport default function Home({ posts, preview }) {\r\n  //  const { data, isLoading, error } = usePosts(posts);\r\n  const { data, size, setSize } = useSWRInfinite(\r\n    (index) => `api/posts?page=${index}&limit=${PAGE_LIMIT}`,\r\n    { initialData: [posts] }\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <Row>\r\n        {preview && <PreviewAlert />}\r\n        <Col md=\"12\">\r\n          <Intro />\r\n        </Col>\r\n      </Row>\r\n\r\n      <hr />\r\n\r\n      {/* <pre>{JSON.stringify(data, null, 2)}</pre> */}\r\n\r\n      <Row className=\"mb-5\">\r\n        {data.map((page) =>\r\n          page.map((post) => (\r\n            <Col md={12 / PAGE_LIMIT}>\r\n              <GridItem post={post} />\r\n            </Col>\r\n          ))\r\n        )}\r\n      </Row>\r\n\r\n      <div style={{ textAlign: \"center\" }}>\r\n        {data[data.length - 1].length !== 0 && (\r\n          <Button onClick={() => setSize(size + 1)}>Цааш нь ...</Button>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport const getStaticProps = async ({ preview = false }) => {\r\n  const posts = await getPaginetedPosts(0, PAGE_LIMIT);\r\n  console.log(\"index.html dahin build hiigdlee\");\r\n  return {\r\n    props: {\r\n      posts,\r\n      preview,\r\n    },\r\n    revalidate: 10,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}