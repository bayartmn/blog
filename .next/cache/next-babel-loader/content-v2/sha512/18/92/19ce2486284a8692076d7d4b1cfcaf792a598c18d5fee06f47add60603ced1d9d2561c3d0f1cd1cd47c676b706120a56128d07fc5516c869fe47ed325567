{"ast":null,"code":"import useSWR from \"swr\";\nexport var usePosts = function usePosts(posts) {\n  var _useSWR = useSWR(\"/api/posts\", {\n    initialData: posts,\n    onErrorRetry: function onErrorRetry(error, key, config, revalidate, _ref) {\n      var retryCount = _ref.retryCount;\n      console.log(\"error try\"); // Never retry on 404.\n\n      if (error.status === 404) return; // Never retry for a specific key.\n\n      if (key === \"/api/user\") return; // Only retry up to 10 times.\n\n      if (retryCount >= 10) return; // Retry after 5 seconds.\n\n      setTimeout(function () {\n        return revalidate({\n          retryCount: retryCount\n        });\n      }, 5000);\n    }\n  }),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  return {\n    data: data,\n    isLoading: !error && !data,\n    error: error\n  };\n};","map":null,"metadata":{},"sourceType":"module"}