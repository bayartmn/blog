{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\projects\\\\blog\\\\pages\\\\index.js\";\nimport { Row, Col, Button } from \"react-bootstrap\";\nimport GridItem from \"components/grid-item\";\nimport { getPaginetedPosts } from \"lib/api\";\nimport Layout from \"components/layout\";\nimport Intro from \"components/intro\";\nimport { useSWRInfinite } from \"swr\";\nimport PreviewAlert from \"components/preview-alert\";\nconst PAGE_LIMIT = 3;\nexport default function Home({\n  posts,\n  preview\n}) {\n  //  const { data, isLoading, error } = usePosts(posts);\n  const {\n    data,\n    size,\n    setSize,\n    isValidating\n  } = useSWRInfinite(index => `api/posts?page=${index}&limit=${PAGE_LIMIT}`, {\n    initialData: [posts]\n  });\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [preview && /*#__PURE__*/_jsxDEV(PreviewAlert, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: \"12\",\n        children: /*#__PURE__*/_jsxDEV(Intro, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-5\",\n      children: data.map(page => page.map(post => /*#__PURE__*/_jsxDEV(Col, {\n        md: 12 / PAGE_LIMIT,\n        children: /*#__PURE__*/_jsxDEV(GridItem, {\n          post: post\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this)))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: data[data.length - 1].length !== 0 && (isValidating ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 12\n        },\n        children: \"\\u0422\\u04AF\\u0440 \\u0445\\u04AF\\u043B\\u044D\\u044D\\u043D\\u044D \\u04AF\\u04AF...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setSize(size + 1),\n        children: \"\\u0426\\u0430\\u0430\\u0448 \\u043D\\u044C ...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\nexport const getStaticProps = async ({\n  preview = false\n}) => {\n  const posts = await getPaginetedPosts(0, PAGE_LIMIT);\n  console.log(\"index.html dahin build hiigdlee\");\n  return {\n    props: {\n      posts,\n      preview\n    },\n    revalidate: 10\n  };\n};","map":{"version":3,"sources":["D:/projects/blog/pages/index.js"],"names":["Row","Col","Button","GridItem","getPaginetedPosts","Layout","Intro","useSWRInfinite","PreviewAlert","PAGE_LIMIT","Home","posts","preview","data","size","setSize","isValidating","index","initialData","map","page","post","textAlign","length","fontSize","getStaticProps","console","log","props","revalidate"],"mappings":";;AAAA,SAASA,GAAT,EAAcC,GAAd,EAAmBC,MAAnB,QAAiC,iBAAjC;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,iBAAT,QAAkC,SAAlC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,SAASC,cAAT,QAA+B,KAA/B;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AAEA,MAAMC,UAAU,GAAG,CAAnB;AAEA,eAAe,SAASC,IAAT,CAAc;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAd,EAAkC;AAC/C;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,IAAR;AAAcC,IAAAA,OAAd;AAAuBC,IAAAA;AAAvB,MAAwCT,cAAc,CACzDU,KAAD,IAAY,kBAAiBA,KAAM,UAASR,UAAW,EADG,EAE1D;AAAES,IAAAA,WAAW,EAAE,CAACP,KAAD;AAAf,GAF0D,CAA5D;AAKA,sBACE,QAAC,MAAD;AAAA,4BACE,QAAC,GAAD;AAAA,iBACGC,OAAO,iBAAI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,cADd,eAEE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAC,IAAR;AAAA,+BACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAQE;AAAA;AAAA;AAAA;AAAA,YARF,eAYE,QAAC,GAAD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,gBACGC,IAAI,CAACM,GAAL,CAAUC,IAAD,IACRA,IAAI,CAACD,GAAL,CAAUE,IAAD,iBACP,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,KAAKZ,UAAd;AAAA,+BACE,QAAC,QAAD;AAAU,UAAA,IAAI,EAAEY;AAAhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,CADD;AADH;AAAA;AAAA;AAAA;AAAA,YAZF,eAsBE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAA,gBACGT,IAAI,CAACA,IAAI,CAACU,MAAL,GAAc,CAAf,CAAJ,CAAsBA,MAAtB,KAAiC,CAAjC,KACEP,YAAY,gBACX;AAAK,QAAA,KAAK,EAAE;AAAEQ,UAAAA,QAAQ,EAAE;AAAZ,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADW,gBAGX,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,MAAMT,OAAO,CAACD,IAAI,GAAG,CAAR,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJH;AADH;AAAA;AAAA;AAAA;AAAA,YAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiCD;AAED,OAAO,MAAMW,cAAc,GAAG,OAAO;AAAEb,EAAAA,OAAO,GAAG;AAAZ,CAAP,KAA+B;AAC3D,QAAMD,KAAK,GAAG,MAAMP,iBAAiB,CAAC,CAAD,EAAIK,UAAJ,CAArC;AACAiB,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACA,SAAO;AACLC,IAAAA,KAAK,EAAE;AACLjB,MAAAA,KADK;AAELC,MAAAA;AAFK,KADF;AAKLiB,IAAAA,UAAU,EAAE;AALP,GAAP;AAOD,CAVM","sourcesContent":["import { Row, Col, Button } from \"react-bootstrap\";\r\nimport GridItem from \"components/grid-item\";\r\nimport { getPaginetedPosts } from \"lib/api\";\r\nimport Layout from \"components/layout\";\r\nimport Intro from \"components/intro\";\r\nimport { useSWRInfinite } from \"swr\";\r\nimport PreviewAlert from \"components/preview-alert\";\r\n\r\nconst PAGE_LIMIT = 3;\r\n\r\nexport default function Home({ posts, preview }) {\r\n  //  const { data, isLoading, error } = usePosts(posts);\r\n  const { data, size, setSize, isValidating } = useSWRInfinite(\r\n    (index) => `api/posts?page=${index}&limit=${PAGE_LIMIT}`,\r\n    { initialData: [posts] }\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <Row>\r\n        {preview && <PreviewAlert />}\r\n        <Col md=\"12\">\r\n          <Intro />\r\n        </Col>\r\n      </Row>\r\n\r\n      <hr />\r\n\r\n      {/* <pre>{JSON.stringify(data, null, 2)}</pre> */}\r\n\r\n      <Row className=\"mb-5\">\r\n        {data.map((page) =>\r\n          page.map((post) => (\r\n            <Col md={12 / PAGE_LIMIT}>\r\n              <GridItem post={post} />\r\n            </Col>\r\n          ))\r\n        )}\r\n      </Row>\r\n\r\n      <div style={{ textAlign: \"center\" }}>\r\n        {data[data.length - 1].length !== 0 &&\r\n          (isValidating ? (\r\n            <div style={{ fontSize: 12 }}>Түр хүлээнэ үү...</div>\r\n          ) : (\r\n            <Button onClick={() => setSize(size + 1)}>Цааш нь ...</Button>\r\n          ))}\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport const getStaticProps = async ({ preview = false }) => {\r\n  const posts = await getPaginetedPosts(0, PAGE_LIMIT);\r\n  console.log(\"index.html dahin build hiigdlee\");\r\n  return {\r\n    props: {\r\n      posts,\r\n      preview,\r\n    },\r\n    revalidate: 10,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}