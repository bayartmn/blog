{"ast":null,"code":"import useSWR from \"swr\";\nexport const usePosts = posts => {\n  const {\n    data,\n    error\n  } = useSWR(`/api/posts`, {\n    initialData: posts,\n    onErrorRetry: (error, key, config, revalidate, {\n      retryCount\n    }) => {\n      console.log(\"error try\"); // Never retry on 404.\n\n      if (error.status === 404) return; // Never retry for a specific key.\n\n      if (key === \"/api/user\") return; // Only retry up to 10 times.\n\n      if (retryCount >= 10) return; // Retry after 5 seconds.\n\n      setTimeout(() => revalidate({\n        retryCount\n      }), 5000);\n    }\n  });\n  return {\n    data,\n    isLoading: !error && !data,\n    error\n  };\n};","map":null,"metadata":{},"sourceType":"module"}