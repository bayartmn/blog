{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\projects\\\\blog\\\\pages\\\\index.js\";\nimport { Row, Col, Button } from \"react-bootstrap\";\nimport GridItem from \"components/grid-item\";\nimport { getPaginetedPosts } from \"lib/api\";\nimport Layout from \"components/layout\";\nimport Intro from \"components/intro\";\nimport { usePosts } from \"hooks/use-posts\";\nimport { useSWRInfinite } from \"swr\";\nconst PAGE_LIMIT = 3;\nexport default function Home({\n  posts,\n  preview\n}) {\n  //  const { data, isLoading, error } = usePosts(posts);\n  const {\n    data,\n    size,\n    setSize\n  } = useSWRInfinite(index => `api/posts?page=${index}&limit=${PAGE_LIMIT}`);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: \"12\",\n        children: /*#__PURE__*/_jsxDEV(Intro, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-5\",\n      children: data && data.map(page => page.map(post => /*#__PURE__*/_jsxDEV(Col, {\n        md: 12 / PAGE_LIMIT,\n        children: /*#__PURE__*/_jsxDEV(GridItem, {\n          post: post\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 15\n      }, this)))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: data && data[data.length - 1].length !== 0 && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setSize(size + 1),\n        children: \"\\u0426\\u0430\\u0430\\u0448 \\u043D\\u044C ...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\nexport const getStaticProps = async ({\n  preview = false\n}) => {\n  const posts = await getPaginetedPosts(1, PAGE_LIMIT);\n  return {\n    props: {\n      posts,\n      preview\n    }\n  };\n};","map":{"version":3,"sources":["D:/projects/blog/pages/index.js"],"names":["Row","Col","Button","GridItem","getPaginetedPosts","Layout","Intro","usePosts","useSWRInfinite","PAGE_LIMIT","Home","posts","preview","data","size","setSize","index","map","page","post","textAlign","length","getStaticProps","props"],"mappings":";;AAAA,SAASA,GAAT,EAAcC,GAAd,EAAmBC,MAAnB,QAAiC,iBAAjC;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,iBAAT,QAAkC,SAAlC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,cAAT,QAA+B,KAA/B;AAEA,MAAMC,UAAU,GAAG,CAAnB;AAEA,eAAe,SAASC,IAAT,CAAc;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAd,EAAkC;AAC/C;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,IAAR;AAAcC,IAAAA;AAAd,MAA0BP,cAAc,CAC3CQ,KAAD,IAAY,kBAAiBA,KAAM,UAASP,UAAW,EADX,CAA9C;AAIA,sBACE,QAAC,MAAD;AAAA,4BACE,QAAC,GAAD;AAAA,6BACE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAC,IAAR;AAAA,+BACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAOE;AAAA;AAAA;AAAA;AAAA,YAPF,eAWE,QAAC,GAAD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,gBACGI,IAAI,IACHA,IAAI,CAACI,GAAL,CAAUC,IAAD,IACPA,IAAI,CAACD,GAAL,CAAUE,IAAD,iBACP,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,KAAKV,UAAd;AAAA,+BACE,QAAC,QAAD;AAAU,UAAA,IAAI,EAAEU;AAAhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,CADF;AAFJ;AAAA;AAAA;AAAA;AAAA,YAXF,eAsBE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAA,gBACGP,IAAI,IAAIA,IAAI,CAACA,IAAI,CAACQ,MAAL,GAAc,CAAf,CAAJ,CAAsBA,MAAtB,KAAiC,CAAzC,iBACC,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,MAAMN,OAAO,CAACD,IAAI,GAAG,CAAR,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,YAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8BD;AAED,OAAO,MAAMQ,cAAc,GAAG,OAAO;AAAEV,EAAAA,OAAO,GAAG;AAAZ,CAAP,KAA+B;AAC3D,QAAMD,KAAK,GAAG,MAAMP,iBAAiB,CAAC,CAAD,EAAIK,UAAJ,CAArC;AAEA,SAAO;AACLc,IAAAA,KAAK,EAAE;AACLZ,MAAAA,KADK;AAELC,MAAAA;AAFK;AADF,GAAP;AAMD,CATM","sourcesContent":["import { Row, Col, Button } from \"react-bootstrap\";\r\nimport GridItem from \"components/grid-item\";\r\nimport { getPaginetedPosts } from \"lib/api\";\r\nimport Layout from \"components/layout\";\r\nimport Intro from \"components/intro\";\r\nimport { usePosts } from \"hooks/use-posts\";\r\nimport { useSWRInfinite } from \"swr\";\r\n\r\nconst PAGE_LIMIT = 3;\r\n\r\nexport default function Home({ posts, preview }) {\r\n  //  const { data, isLoading, error } = usePosts(posts);\r\n  const { data, size, setSize } = useSWRInfinite(\r\n    (index) => `api/posts?page=${index}&limit=${PAGE_LIMIT}`\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <Row>\r\n        <Col md=\"12\">\r\n          <Intro />\r\n        </Col>\r\n      </Row>\r\n\r\n      <hr />\r\n\r\n      {/* <pre>{JSON.stringify(data, null, 2)}</pre> */}\r\n\r\n      <Row className=\"mb-5\">\r\n        {data &&\r\n          data.map((page) =>\r\n            page.map((post) => (\r\n              <Col md={12 / PAGE_LIMIT}>\r\n                <GridItem post={post} />\r\n              </Col>\r\n            ))\r\n          )}\r\n      </Row>\r\n\r\n      <div style={{ textAlign: \"center\" }}>\r\n        {data && data[data.length - 1].length !== 0 && (\r\n          <Button onClick={() => setSize(size + 1)}>Цааш нь ...</Button>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport const getStaticProps = async ({ preview = false }) => {\r\n  const posts = await getPaginetedPosts(1, PAGE_LIMIT);\r\n\r\n  return {\r\n    props: {\r\n      posts,\r\n      preview,\r\n    },\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}